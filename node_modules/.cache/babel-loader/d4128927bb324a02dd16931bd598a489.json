{"ast":null,"code":"import _classCallCheck from \"/Users/pierry/Desktop/Web Development/hack-diversity-interview-widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/pierry/Desktop/Web Development/hack-diversity-interview-widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/pierry/Desktop/Web Development/hack-diversity-interview-widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/pierry/Desktop/Web Development/hack-diversity-interview-widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/pierry/Desktop/Web Development/hack-diversity-interview-widget/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/pierry/Desktop/Web Development/hack-diversity-interview-widget/src/components/SingleConversation/index.js\";\nimport React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\nimport { sendMessage as _sendMessage } from '../../modules/message/actions';\nimport './style.css';\n\nvar SingleConversation = /*#__PURE__*/function (_PureComponent) {\n  _inherits(SingleConversation, _PureComponent);\n\n  function SingleConversation(props) {\n    var _this;\n\n    _classCallCheck(this, SingleConversation);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SingleConversation).call(this, props));\n\n    _this.onChangeInput = function (e) {\n      _this.setState({\n        messageInput: e.target.value\n      });\n    };\n\n    _this.maybeSubmit = function (e) {\n      if (e.keyCode === 13) {\n        e.preventDefault();\n\n        _this.props.dispatcher.sendMessage(_this.state.messageInput, _this.props.conversationId);\n\n        _this.setState({\n          messageInput: ''\n        });\n      }\n    };\n\n    _this.state = {\n      messageInput: ''\n    };\n    return _this;\n  }\n\n  _createClass(SingleConversation, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var messages = this.props.messages;\n      var messageInput = this.state.messageInput;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"drift-sidebar-single-conversation--container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"drift-sidebar-single-conversation-body\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 9\n        }\n      }, messages.map(function (message) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          key: message.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 45,\n            columnNumber: 36\n          }\n        }, message.body);\n      })), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"drift-sidebar-single-conversation-input\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 9\n        }\n      }, /*#__PURE__*/React.createElement(\"input\", {\n        placeholder: \"Type and press enter to send\",\n        value: messageInput,\n        onChange: this.onChangeInput,\n        onKeyDown: this.maybeSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }\n      })));\n    }\n  }]);\n\n  return SingleConversation;\n}(PureComponent);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  var conversationId = state.conversation.conversationId;\n  return {\n    messages: state.message.byConversationId[conversationId] || [],\n    conversationId: conversationId\n  };\n};\n\nvar mapDispatchToProps = function mapDispatchToProps(dispatch) {\n  return {\n    dispatcher: {\n      sendMessage: function sendMessage(messageBody, conversationId) {\n        return dispatch(_sendMessage({\n          body: messageBody,\n          conversationId: conversationId\n        }));\n      }\n    }\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SingleConversation);","map":{"version":3,"sources":["/Users/pierry/Desktop/Web Development/hack-diversity-interview-widget/src/components/SingleConversation/index.js"],"names":["React","PureComponent","connect","sendMessage","SingleConversation","props","onChangeInput","e","setState","messageInput","target","value","maybeSubmit","keyCode","preventDefault","dispatcher","state","conversationId","messages","map","message","id","body","mapStateToProps","conversation","byConversationId","mapDispatchToProps","dispatch","messageBody"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAgBC,aAAhB,QAAqC,OAArC;AACA,SAASC,OAAT,QAAwB,aAAxB;AAEA,SAASC,WAAW,IAAXA,YAAT,QAA4B,+BAA5B;AACA,OAAO,aAAP;;IAGMC,kB;;;AACJ,8BAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,4FAAMA,KAAN;;AADiB,UAQnBC,aARmB,GAQH,UAACC,CAAD,EAAO;AACrB,YAAKC,QAAL,CAAc;AACZC,QAAAA,YAAY,EAAEF,CAAC,CAACG,MAAF,CAASC;AADX,OAAd;AAGD,KAZkB;;AAAA,UAcnBC,WAdmB,GAcL,UAACL,CAAD,EAAO;AACnB,UAAIA,CAAC,CAACM,OAAF,KAAc,EAAlB,EAAsB;AACpBN,QAAAA,CAAC,CAACO,cAAF;;AACA,cAAKT,KAAL,CAAWU,UAAX,CAAsBZ,WAAtB,CAAkC,MAAKa,KAAL,CAAWP,YAA7C,EAA2D,MAAKJ,KAAL,CAAWY,cAAtE;;AACA,cAAKT,QAAL,CAAc;AACZC,UAAAA,YAAY,EAAE;AADF,SAAd;AAGD;AACF,KAtBkB;;AAGjB,UAAKO,KAAL,GAAa;AACXP,MAAAA,YAAY,EAAE;AADH,KAAb;AAHiB;AAMlB;;;;6BAkBQ;AAAA;;AAAA,UAELS,QAFK,GAGH,KAAKb,KAHF,CAELa,QAFK;AAAA,UAMLT,YANK,GAOH,KAAKO,KAPF,CAMLP,YANK;AASP,0BACE;AAAK,QAAA,SAAS,EAAC,8CAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAK,QAAA,SAAS,EAAC,wCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGS,QAAQ,CAACC,GAAT,CAAa,UAAAC,OAAO;AAAA,4BAAI;AAAK,UAAA,GAAG,EAAEA,OAAO,CAACC,EAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuBD,OAAO,CAACE,IAA/B,CAAJ;AAAA,OAApB,CADH,CADF,eAIE;AAAK,QAAA,SAAS,EAAC,yCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBACE;AAAO,QAAA,WAAW,EAAC,8BAAnB;AAAkD,QAAA,KAAK,EAAEb,YAAzD;AAAuE,QAAA,QAAQ,EAAE,KAAKH,aAAtF;AAAqG,QAAA,SAAS,EAAE,KAAKM,WAArH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CADF;AAUD;;;;EA5C8BX,a;;AA+CjC,IAAMsB,eAAe,GAAG,SAAlBA,eAAkB,CAAAP,KAAK,EAAI;AAC/B,MAAMC,cAAc,GAAGD,KAAK,CAACQ,YAAN,CAAmBP,cAA1C;AACA,SAAO;AACLC,IAAAA,QAAQ,EAAEF,KAAK,CAACI,OAAN,CAAcK,gBAAd,CAA+BR,cAA/B,KAAkD,EADvD;AAC2DA,IAAAA,cAAc,EAAdA;AAD3D,GAAP;AAGD,CALD;;AAOA,IAAMS,kBAAkB,GAAG,SAArBA,kBAAqB,CAAAC,QAAQ;AAAA,SAAK;AACtCZ,IAAAA,UAAU,EAAE;AACVZ,MAAAA,WAAW,EAAE,qBAACyB,WAAD,EAAcX,cAAd;AAAA,eAAiCU,QAAQ,CAACxB,YAAW,CAAC;AAAEmB,UAAAA,IAAI,EAAEM,WAAR;AAAqBX,UAAAA,cAAc,EAAdA;AAArB,SAAD,CAAZ,CAAzC;AAAA;AADH;AAD0B,GAAL;AAAA,CAAnC;;AAOA,eAAef,OAAO,CAACqB,eAAD,EAAkBG,kBAAlB,CAAP,CAA6CtB,kBAA7C,CAAf","sourcesContent":["import React, { PureComponent } from 'react';\nimport { connect } from 'react-redux';\n\nimport { sendMessage } from '../../modules/message/actions';\nimport './style.css';\n\n\nclass SingleConversation extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      messageInput: '',\n    };\n  }\n\n  onChangeInput = (e) => {\n    this.setState({\n      messageInput: e.target.value,\n    });\n  }\n\n  maybeSubmit = (e) => {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      this.props.dispatcher.sendMessage(this.state.messageInput, this.props.conversationId);\n      this.setState({\n        messageInput: '',\n      });\n    }\n  }\n\n  render() {\n    const {\n      messages,\n    } = this.props;\n\n    const {\n      messageInput,\n    } = this.state;\n\n    return (\n      <div className=\"drift-sidebar-single-conversation--container\">\n        <div className=\"drift-sidebar-single-conversation-body\">\n          {messages.map(message => <div key={message.id}>{message.body}</div>)}\n        </div>\n        <div className=\"drift-sidebar-single-conversation-input\">\n          <input placeholder=\"Type and press enter to send\" value={messageInput} onChange={this.onChangeInput} onKeyDown={this.maybeSubmit} />\n        </div>\n      </div>\n    )\n  }\n}\n\nconst mapStateToProps = state => {\n  const conversationId = state.conversation.conversationId;\n  return {\n    messages: state.message.byConversationId[conversationId] || [], conversationId,\n  }\n}\n\nconst mapDispatchToProps = dispatch => ({\n  dispatcher: {\n    sendMessage: (messageBody, conversationId) => dispatch(sendMessage({ body: messageBody, conversationId, })),\n  }\n})\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SingleConversation);\n"]},"metadata":{},"sourceType":"module"}