{"ast":null,"code":"import { ofType, combineEpics } from 'redux-observable';\nimport { flatMap, pluck } from 'rxjs/operators';\nimport * as MessageActions from '../message/actions';\nimport * as ConversationActions from './actions';\nimport ConversationActionTypes from './actionTypes';\nimport { randomID } from '../../utils';\n/**************************************************\n********** YOU DON'T NEED TO EDIT THIS FILE *******\n**************************************************/\n\nvar startNewConversation = function startNewConversation(action$, store$) {\n  return action$.pipe(ofType(ConversationActionTypes.StartNewConversation), pluck('payload'), flatMap(function (_ref) {\n    var message = _ref.message;\n    // normally we might get the conversation Id from the server, but for this demo app, we're generating it here\n    var conversationId = randomID();\n    message.conversationId = conversationId;\n    return [MessageActions.sendMessage(message), ConversationActions.goToConversation(conversationId)];\n  }));\n};\n\nexport default combineEpics(startNewConversation);","map":{"version":3,"sources":["/Users/pierry/Desktop/Web Development/hack-diversity-interview-widget/src/modules/conversation/epic.js"],"names":["ofType","combineEpics","flatMap","pluck","MessageActions","ConversationActions","ConversationActionTypes","randomID","startNewConversation","action$","store$","pipe","StartNewConversation","message","conversationId","sendMessage","goToConversation"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,YAAjB,QAAqC,kBAArC;AACA,SAASC,OAAT,EAAkBC,KAAlB,QAA+B,gBAA/B;AAEA,OAAO,KAAKC,cAAZ,MAAgC,oBAAhC;AACA,OAAO,KAAKC,mBAAZ,MAAqC,WAArC;AACA,OAAOC,uBAAP,MAAoC,eAApC;AACA,SAASC,QAAT,QAAyB,aAAzB;AAGA;;;;AAKA,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAuB,CAACC,OAAD,EAAUC,MAAV;AAAA,SAAqBD,OAAO,CAACE,IAAR,CAChDX,MAAM,CAACM,uBAAuB,CAACM,oBAAzB,CAD0C,EAEhDT,KAAK,CAAC,SAAD,CAF2C,EAGhDD,OAAO,CAAC,gBAAiB;AAAA,QAAdW,OAAc,QAAdA,OAAc;AACvB;AACA,QAAMC,cAAc,GAAGP,QAAQ,EAA/B;AACAM,IAAAA,OAAO,CAACC,cAAR,GAAyBA,cAAzB;AACA,WAAO,CACLV,cAAc,CAACW,WAAf,CAA2BF,OAA3B,CADK,EAELR,mBAAmB,CAACW,gBAApB,CAAqCF,cAArC,CAFK,CAAP;AAID,GARM,CAHyC,CAArB;AAAA,CAA7B;;AAcA,eAAeb,YAAY,CACzBO,oBADyB,CAA3B","sourcesContent":["import { ofType, combineEpics } from 'redux-observable';\nimport { flatMap, pluck } from 'rxjs/operators';\n\nimport * as MessageActions from '../message/actions';\nimport * as ConversationActions from './actions';\nimport ConversationActionTypes from './actionTypes';\nimport { randomID } from '../../utils';\n\n\n/**************************************************\n********** YOU DON'T NEED TO EDIT THIS FILE *******\n**************************************************/\n\n\nconst startNewConversation = (action$, store$) => action$.pipe(\n  ofType(ConversationActionTypes.StartNewConversation),\n  pluck('payload'),\n  flatMap(({ message }) => {\n    // normally we might get the conversation Id from the server, but for this demo app, we're generating it here\n    const conversationId = randomID();\n    message.conversationId = conversationId;\n    return [\n      MessageActions.sendMessage(message),\n      ConversationActions.goToConversation(conversationId)\n    ]\n  })\n)\n\nexport default combineEpics(\n  startNewConversation,\n)\n"]},"metadata":{},"sourceType":"module"}